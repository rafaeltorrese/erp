(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){},189:function(e,t,a){e.exports=a(368)},194:function(e,t,a){},195:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},196:function(e,t,a){},326:function(e,t,a){},368:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),c=(a(194),a(195),a(196),a(53)),i=a(21),s=a(22),u=a(24),m=a(23),d=a(25),p=(a(138),a(372)),h=a(374),g=a(11),f=a(30),E=a(28),b=p.a.Item,y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){console.log(a.props),e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onLogin()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.handleText;t.data;return r.a.createElement(p.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(b,null,e("email",{rules:[{required:!0,message:"Ingresa t\xfa email!"}]})(r.a.createElement(h.a,{name:"email",onChange:a,prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(b,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(h.a,{name:"password",onChange:a,prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(b,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Log in")),r.a.createElement("span",null,"\xbfNo tienes cuenta? Registrate ",r.a.createElement(E.b,{to:"/register"},"aqui")," "))}}]),t}(n.Component),v=p.a.create()(y),O=a(32),k=a.n(O);k.a.defaults.headers={"Content-Type":"application/json"};var S="https://erphack.herokuapp.com/api",j=function(e){return k.a.post("".concat(S,"/auth/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},C=function(e){return k.a.post("".concat(S,"/auth/register"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},w=p.a.Item,I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),console.log("data:",a.props.data),a.props.form.validateFields(function(e,t){e||a.props.onRegister()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.handleText;t.data,t.onRegister;return r.a.createElement(p.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(w,null,e("Nombre",{rules:[{required:!0,message:"Enter Full Name!"}]})(r.a.createElement(h.a,{name:"firstName",onChange:a,prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Nombre",size:"large"}))),r.a.createElement(w,null,e("Apellido Paterno",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(h.a,{name:"lastName",onChange:a,prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Apellido Paterno",size:"large"}))),r.a.createElement(w,null,e("email",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(h.a,{name:"email",onChange:a,prefix:r.a.createElement(g.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(w,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(h.a,{name:"password",onChange:a,prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(w,null,e("confirmPassword",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(h.a,{name:"confirmPassword",onChange:a,prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",size:"large"}))),r.a.createElement(w,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Registrate")),r.a.createElement("span",null,"\xbfYa tienes cuenta? ",r.a.createElement(E.b,{to:"/"},"Inicia sesi\xf3n")," "))}}]),t}(n.Component),N=p.a.create()(I),x=a(373),A=a(376),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.handleText=function(e){var t=a.state.data;t[e.target.name]=e.target.value,a.setState({data:t})},a.onRegister=function(){var e=a.state.data;C(e).then(function(e){A.a.info("Registro Exitoso Bienvenido"),localStorage.setItem("TOKEN",e.token),localStorage.setItem("USER",JSON.stringify(e.user)),a.props.history.push("/home")}).catch(function(e){console.log("error",e),A.a.info("No se pudo registrar")}),a.setState({data:{}})},a.onLogin=function(){var e=a.state.data;j(e).then(function(e){console.log("Inicio Sesi\xf3n Exitoso",e),A.a.info("Bienvenido"),localStorage.setItem("TOKEN",e.token),localStorage.setItem("USER",JSON.stringify(e.user)),a.props.history.push("/home")}).catch(function(e){console.log("error",e),A.a.info("Usuario o contrase\xf1a inv\xe1lida")}),a.setState({data:{}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.state.data;return r.a.createElement("div",{className:"login"},r.a.createElement(x.a,null,r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"ERPHACK")),r.a.createElement("div",null,"/"===e?r.a.createElement(v,{data:t,onLogin:this.onLogin,handleText:this.handleText}):r.a.createElement(N,{handleText:this.handleText,data:t,onRegister:this.onRegister}))))}}]),t}(n.Component),P=a(370),K=a(136),L=(a(317),K.b.SubMenu),R=function(e){var t=e.onOpenChange,a=(e.user,e.openKeys);return r.a.createElement(K.b,{theme:"dark",mode:"inline",openKeys:a,defaultSelectedKeys:["1"],defaultOpenKeys:[],onOpenChange:t},r.a.createElement(L,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(g.a,{type:"mail"}),r.a.createElement("span",null,"Administration"))},r.a.createElement(K.b.Item,{key:"1"}," ",r.a.createElement(E.b,{to:"/home/activities"}," Activities ")," "),r.a.createElement(K.b.Item,{key:"2"},r.a.createElement(E.b,{to:"/home/outcomes"},"Outcomes ")," "),r.a.createElement(K.b.Item,{key:"3"},r.a.createElement(E.b,{to:"/home/suppliers"}," Supplier  ")," ")),r.a.createElement(L,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(g.a,{type:"mail"}),r.a.createElement("span",null,"Constructions"))},r.a.createElement(K.b.Item,{key:"4"},r.a.createElement(E.b,{to:"/home/contractors"}," Contractors  ")," "),r.a.createElement(K.b.Item,{key:"5"},r.a.createElement(E.b,{to:"/home/constructions"}," Construction "),"  ")))},z=(a(326),K.b.SubMenu),q=function(e){var t=e.logOut,a=e.user,n=e.collapsed,o=e.toggle;return r.a.createElement("div",{className:"nav"},r.a.createElement("span",null,r.a.createElement(g.a,{className:"trigger",type:n?"menu-unfold":"menu-fold",onClick:o})),r.a.createElement("span",null,r.a.createElement(K.b,{mode:"horizontal"},r.a.createElement(z,{key:"sub1",title:r.a.createElement("span",null,"Hola ",a.firstName," ",a.lastName," ")},r.a.createElement(K.b.Item,null,r.a.createElement("span",null,r.a.createElement(g.a,{type:"user"}),r.a.createElement(E.b,{to:"/home/profile"},r.a.createElement("span",null,"Perfil")))),r.a.createElement(K.b.Item,null,r.a.createElement("span",{onClick:t},r.a.createElement(g.a,{type:"logout"}),r.a.createElement("span",null,"Cerrar Sesi\xf3n")))))))},B=a(371),D=function(e){var t=e.columns,a=e.data,n=e.header;return r.a.createElement("div",null,r.a.createElement(B.a,{columns:t,dataSource:a,bordered:!0,title:n}),",")},F="https://erphack.herokuapp.com/api",H=a(104),J=a(105),M=a(137),U=a(369),W=a(102);var V=r.a.createElement(K.b,{onClick:function(e){console.log("click",e)}},r.a.createElement(K.b.Item,{key:"1"},"Borrar"),r.a.createElement(K.b.Item,{key:"2"},"Actualizar")),Y=function(){return r.a.createElement("div",null,r.a.createElement(W.a,{overlay:V},r.a.createElement(f.a,null,"Click ",r.a.createElement(g.a,{type:"down"}))))},_=r.a.createContext(),G=p.a.create()(function(e){var t=e.form,a=(e.index,Object(M.a)(e,["form","index"]));return r.a.createElement(_.Provider,{value:t},r.a.createElement("tr",a))}),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},function(){e&&a.input.focus()})},a.save=function(e){var t=a.props,n=t.record,r=t.handleSave;a.form.validateFields(function(t,o){t&&t[e.currentTarget.id]||(a.toggleEdit(),r(Object(J.a)({},n,o)))})},a.renderCell=function(e){a.form=e;var t=a.props,n=t.children,o=t.dataIndex,l=t.record,c=t.title;return a.state.editing?r.a.createElement(p.a.Item,{style:{margin:0}},e.getFieldDecorator(o,{rules:[{required:!0,message:"".concat(c," is required.")}],initialValue:l[o]})(r.a.createElement(h.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),n=Object(M.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return r.a.createElement("td",n,t?r.a.createElement(_.Consumer,null,this.renderCell):a)}}]),t}(r.a.Component),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleDelete=function(e){var t=Object(H.a)(a.state.dataSource);a.setState({dataSource:t.filter(function(t){return t.key!==e})})},a.handleAdd=function(){var e=a.state,t=e.count,n=e.dataSource,r={key:t,name:"Edward King ".concat(t),age:32,address:"London, Park Lane no. ".concat(t)};a.setState({dataSource:[].concat(Object(H.a)(n),[r]),count:t+1})},a.handleSave=function(e){var t=Object(H.a)(a.state.dataSource),n=t.findIndex(function(t){return e.key===t.key}),r=t[n];t.splice(n,1,Object(J.a)({},r,e)),a.setState({dataSource:t})},a.columns=[{title:"name",dataIndex:"name",width:"30%",editable:!1},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"Acci\xf3n",dataIndex:"operation",render:function(e,t){return a.state.dataSource.length>0?r.a.createElement("div",null,r.a.createElement(U.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)}},r.a.createElement("a",{href:"javascript:;"},"Borrar")),r.a.createElement(Y,null)):null}}],a.state={dataSource:[{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}],count:2},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:G,cell:$}},n=this.columns.map(function(t){return t.editable?Object(J.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t});return r.a.createElement("div",null,r.a.createElement(f.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),r.a.createElement(B.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:n}))}}]),t}(r.a.Component),X=a(81),Z=a(375),ee=X.a.Option,te=p.a.create({name:"form_in_modal"})(function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,o=e.form,l=e.inputsForm,c=o.getFieldDecorator;return r.a.createElement(Z.a,{visible:t,title:"Agregar Construcci\xf3n",okText:"Create",onCancel:a,onOk:n},r.a.createElement(p.a,{layout:"vertical"},l.map(function(e,t){return r.a.createElement(p.a.Item,{key:t,label:e.label},c(e.name,{rules:[{required:e.required,message:e.message}]})(r.a.createElement(h.a,null)))}),r.a.createElement(p.a.Item,{label:"Rubros"},r.a.createElement(X.a,{defaultValue:"1"},r.a.createElement(ee,{value:"1"},"Option 1")))))}}]),t}(r.a.Component)),ae=(r.a.Component,function(){return k.a.get("".concat("https://erphack.herokuapp.com/api","/outcomes/getOutcomes"),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){return e.response})}),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getAllOutomes=function(){ae().then(function(e){return console.log("outcomes",e)}).catch(function(e){return console.log("error",e)})},a.newConstruction=function(){},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getAllOutomes()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(Q,null))}}]),t}(n.Component),re=[{title:"Name",dataIndex:"name",render:function(e){return r.a.createElement("a",{href:"javascript:;"},e)}},{title:"Cash Assets",className:"column-money",dataIndex:"money"},{title:"Address",dataIndex:"address"}],oe=[{key:"1",name:"John Brown",money:"\uffe5300,000.00",address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",money:"\uffe51,256,000.00",address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",money:"\uffe5120,000.00",address:"Sidney No. 1 Lake Park"}],le=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(D,{columns:re,data:oe}))}}]),t}(n.Component),ce=function(){return r.a.createElement("div",{className:"admin-sections"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/home/activities",component:le}),r.a.createElement(c.a,{exact:!0,path:"/home/constructions",component:ne})))},ie=P.a.Header,se=P.a.Sider,ue=P.a.Content,me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,user:"",constructions:[]},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.logOut=function(){localStorage.clear(),A.a.info("Hasta luego"),a.props.history.push("/")},a.onOpenChange=function(e){a.setState({openKeys:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("TOKEN"),a=JSON.parse(localStorage.getItem("USER"));t?(this.setState({user:a}),k.a.get("".concat(F,"/constructions"),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){return e}).then(function(t){e.setState({constructions:t})}).catch(function(e){console.error(e)})):(console.log("There is no token"),this.props.history.push("/"))}},{key:"render",value:function(){var e=this.state.constructions;return r.a.createElement(P.a,{className:"leftside"},r.a.createElement(se,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"},this.state.collapsed?"ADMIN":"RANCHOADMIN"),r.a.createElement(R,{onOpenChange:this.onOpenChange,openKeys:this.state.openKeys,constructions:e})),r.a.createElement(P.a,null,r.a.createElement(ie,{style:{background:"#fff",padding:0}},r.a.createElement(q,{user:this.state.user,logOut:this.logOut,collapsed:this.state.collapsed,toggle:this.toggle})),r.a.createElement(ue,{style:{margin:"1%",padding:"1%",background:"#f0f2f5",minHeight:"90vh"}},r.a.createElement(ce,null))))}}]),t}(n.Component),de=function(){return r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:T}),r.a.createElement(c.a,{path:"/register",component:T}),r.a.createElement(c.a,{path:"/home",component:me}))};var pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(de,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(367);l.a.render(r.a.createElement(function(){return r.a.createElement(E.a,null,r.a.createElement(pe,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[189,1,2]]]);
//# sourceMappingURL=main.da2b311b.chunk.js.map