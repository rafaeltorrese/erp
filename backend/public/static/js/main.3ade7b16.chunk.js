(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},154:function(e,t,a){e.exports=a(305)},159:function(e,t,a){},160:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},161:function(e,t,a){},303:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),s=(a(159),a(160),a(161),a(42)),c=a(36),i=a(37),u=a(39),m=a(38),p=a(40),d=(a(115),a(307)),g=a(310),h=a(12),f=a(87),E=a(27),b=a(25),y=a.n(b);y.a.defaults.headers={"Content-Type":"application/json"};var v="https://erphack.herokuapp.com/api",k=function(e){return y.a.post("".concat(v,"/auth/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},O=d.a.Item,C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){console.log(a.props.data),e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onLogin()})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.handleText;t.data;return r.a.createElement(d.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(O,null,e("email",{rules:[{required:!0,message:"Ingresa t\xfa email!"}]})(r.a.createElement(g.a,{name:"email",onChange:a,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(O,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"password",onChange:a,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(O,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Log in")),r.a.createElement("span",null,"\xbfNo tienes cuenta? Registrate ",r.a.createElement(E.b,{to:"/signup"},"aqui")," "))}}]),t}(n.Component),w=d.a.create()(C),N=d.a.Item,S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),console.log("data:",a.props.data),a.props.form.validateFields(function(e,t){e||a.props.onRegister()})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.handleText;t.data,t.onRegister;return r.a.createElement(d.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(N,null,e("Nombre",{rules:[{required:!0,message:"Ingresa t\xfa email!"}]})(r.a.createElement(g.a,{name:"firstName",onChange:a,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Nombre",size:"large"}))),r.a.createElement(N,null,e("Apellido Paterno",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"firstLastName",onChange:a,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Apellido Paterno",size:"large"}))),r.a.createElement(N,null,e("RFC",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"rfc",onChange:a,prefix:r.a.createElement(h.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"RFC",size:"large"}))),r.a.createElement(N,null,e("email",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"email",onChange:a,prefix:r.a.createElement(h.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(N,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"password",onChange:a,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(N,null,e("confirmPassword",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"confirmPassword",onChange:a,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",size:"large"}))),r.a.createElement(N,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Registrate")),r.a.createElement("span",null,"\xbfYa tienes cuenta? ",r.a.createElement(E.b,{to:"/"},"Inicia sesi\xf3n")," "))}}]),t}(n.Component),j=d.a.create()(S),x=a(308),I=a(311),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.handleText=function(e){var t=a.state.data;t[e.target.name]=e.target.value,a.setState({data:t})},a.onRegister=function(){a.state.data;I.a.info("Registro Exitoso"),a.setState({data:{}})},a.onLogin=function(){var e=a.state.data;k(e).then(function(e){console.log("Que es esto",e),I.a.info("Welcome"),a.props.history.push("/home")}).catch(function(e){console.log("error",e),I.a.info("Usuario o contrase\xf1a inv\xe1lida")}),a.setState({data:{}}),console.log("Here",e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.state.data;return r.a.createElement("div",{className:"login"},r.a.createElement(x.a,null,r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"ERPHACK")),r.a.createElement("div",null,"/"===e?r.a.createElement(w,{data:t,onLogin:this.onLogin,handleText:this.handleText}):r.a.createElement(j,{handleText:this.handleText,data:t,onRegister:this.onRegister}))))}}]),t}(n.Component),R=a(306),z=a(309),T=(a(292),z.b.SubMenu),K=function(e){var t=e.onOpenChange,a=(e.user,e.openKeys),n=e.companys,l=e.getBalance;e.activos;return r.a.createElement(z.b,{theme:"dark",mode:"inline",openKeys:a,defaultSelectedKeys:[],defaultOpenKeys:[],onOpenChange:t},r.a.createElement(T,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"mail"}),r.a.createElement("span",null,"Negocios"))},n.map(function(e,t){return r.a.createElement(T,{key:t,title:e.nombre,onTitleClick:function(){return l(e)}},r.a.createElement(T,{key:"sub3",title:"Balance Genera"},r.a.createElement(T,{key:"sub4",title:"Activo"})),r.a.createElement(T,{key:"sub5",title:"Estado de Resultados"},r.a.createElement(z.b.Item,{key:"1"},"Enero"),r.a.createElement(z.b.Item,{key:"2"},"Febreo")))})))},q=(a(303),z.b.SubMenu),P=function(e){var t=e.logOut,a=e.user,n=e.collapsed,l=e.toggle;e.firstName;return r.a.createElement("div",{className:"nav"},r.a.createElement("span",null,r.a.createElement(h.a,{className:"trigger",type:n?"menu-unfold":"menu-fold",onClick:l})),r.a.createElement("span",null,r.a.createElement(z.b,{mode:"horizontal"},r.a.createElement(q,{key:"sub1",title:r.a.createElement("span",null,"Hola, ",a.firstName)},r.a.createElement(z.b.Item,null,r.a.createElement("span",null,r.a.createElement(h.a,{type:"user"}),r.a.createElement(E.b,{to:"/home/profile"},r.a.createElement("span",null,"Perfil")))),r.a.createElement(z.b.Item,null,r.a.createElement("span",{onClick:t},r.a.createElement(h.a,{type:"logout"}),r.a.createElement("span",null,"Cerrar Sesi\xf3n")))))))},F="https://erphack.herokuapp.com/api",H=R.a.Header,D=R.a.Sider,L=R.a.Content,M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).rootSubmenuKeys=["sub1","sub2","sub3","sub4","sub5"],a.state={collapsed:!1,user:{},constructions:[]},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.logOut=function(){localStorage.clear(),I.a.info("Hasta luego"),a.props.history.push("/login")},a.onOpenChange=function(e){a.setState({openKeys:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user"));t?(this.setState({user:a}),console.log(a),y.a.get("".concat(F,"/constructions"),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){return e}).then(function(t){e.setState({constructions:t.data}),console.log("respuesta",t)}).catch(function(e){console.error(e)})):this.props.history.push("/login")}},{key:"render",value:function(){var e=this.state.constructions;return r.a.createElement(R.a,{className:"leftside"},r.a.createElement(D,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"},this.state.collapsed?"ADMIN":"RANCHOADMIN"),r.a.createElement(K,{onOpenChange:this.onOpenChange,openKeys:this.state.openKeys,constructions:e})),r.a.createElement(R.a,null,r.a.createElement(H,{style:{background:"#fff",padding:0}},r.a.createElement(P,{user:this.state.user,logOut:this.logOut,collapsed:this.state.collapsed,toggle:this.toggle})),r.a.createElement(L,{style:{margin:"1%",padding:"1%",background:"#f0f2f5",minHeight:"90vh"}})))}}]),t}(n.Component),B=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:A}),r.a.createElement(s.a,{path:"/register",component:A}),r.a.createElement(s.a,{path:"/home",component:M}))};var W=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(304);o.a.render(r.a.createElement(function(){return r.a.createElement(E.a,null,r.a.createElement(W,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[154,1,2]]]);
//# sourceMappingURL=main.3ade7b16.chunk.js.map