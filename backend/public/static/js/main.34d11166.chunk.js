(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,a,t){},154:function(e,a,t){e.exports=t(305)},159:function(e,a,t){},160:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},161:function(e,a,t){},303:function(e,a,t){},305:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),o=t.n(l),s=(t(159),t(160),t(161),t(42)),c=t(36),i=t(37),m=t(39),u=t(38),p=t(40),d=(t(115),t(307)),g=t(310),h=t(12),E=t(87),f=t(27),b=t(25),y=t.n(b);y.a.defaults.headers={"Content-Type":"application/json"};var v="https://erphack.herokuapp.com/api",C=function(e){return y.a.post("".concat(v,"/auth/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},O=d.a.Item,w=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){console.log(t.props.data),e.preventDefault(),t.props.form.validateFields(function(e,a){e||t.props.onLogin()})},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.handleText;a.data;return r.a.createElement(d.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(O,null,e("email",{rules:[{required:!0,message:"Ingresa t\xfa email!"}]})(r.a.createElement(g.a,{name:"email",onChange:t,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(O,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"password",onChange:t,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(O,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Log in")),r.a.createElement("span",null,"\xbfNo tienes cuenta? Registrate ",r.a.createElement(f.b,{to:"/signup"},"aqui")," "))}}]),a}(n.Component),k=d.a.create()(w),N=d.a.Item,j=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),console.log("data:",t.props.data),t.props.form.validateFields(function(e,a){e||t.props.onRegister()})},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.handleText;a.data,a.onRegister;return r.a.createElement(d.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(N,null,e("Nombre",{rules:[{required:!0,message:"Ingresa t\xfa email!"}]})(r.a.createElement(g.a,{name:"firstName",onChange:t,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Nombre",size:"large"}))),r.a.createElement(N,null,e("Apellido Paterno",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"firstLastName",onChange:t,prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Apellido Paterno",size:"large"}))),r.a.createElement(N,null,e("RFC",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"rfc",onChange:t,prefix:r.a.createElement(h.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"RFC",size:"large"}))),r.a.createElement(N,null,e("email",{rules:[{required:!0,message:"Enter your email!"}]})(r.a.createElement(g.a,{name:"email",onChange:t,prefix:r.a.createElement(h.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",size:"large"}))),r.a.createElement(N,null,e("password",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"password",onChange:t,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(N,null,e("confirmPassword",{rules:[{required:!0,message:"Ingresa t\xfa contrase\xf1a!"}]})(r.a.createElement(g.a,{name:"confirmPassword",onChange:t,prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",size:"large"}))),r.a.createElement(N,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button ant-btn-primary",size:"large",style:{borderColor:"#72c6cd",backgroundColor:"#72c6cd"}},"Registrate")),r.a.createElement("span",null,"\xbfYa tienes cuenta? ",r.a.createElement(f.b,{to:"/"},"Inicia sesi\xf3n")," "))}}]),a}(n.Component),x=d.a.create()(j),S=t(308),I=t(311),R=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={data:{}},t.handleText=function(e){var a=t.state.data;a[e.target.name]=e.target.value,t.setState({data:a})},t.onRegister=function(){t.state.data;I.a.info("Registro Exitoso"),t.setState({data:{}})},t.onLogin=function(){var e=t.state.data;C(e).then(function(e){console.log("Que es esto",e),I.a.info("Welcome"),t.props.history.push("/home")}).catch(function(e){console.log("error",e),I.a.info("Usuario o contrase\xf1a inv\xe1lida")}),t.setState({data:{}}),console.log("Here",e)},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname,a=this.state.data;return r.a.createElement("div",{className:"login"},r.a.createElement(S.a,null,r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"title"},"ERPHACK")),r.a.createElement("div",null,"/"===e?r.a.createElement(k,{data:a,onLogin:this.onLogin,handleText:this.handleText}):r.a.createElement(x,{handleText:this.handleText,data:a,onRegister:this.onRegister}))))}}]),a}(n.Component),A=t(306),z=t(309),P=(t(292),z.b.SubMenu),T=function(e){var a=e.onOpenChange,t=(e.user,e.openKeys);e.companys,e.getBalance,e.activos;return r.a.createElement(z.b,{theme:"dark",mode:"inline",openKeys:t,defaultSelectedKeys:[],defaultOpenKeys:[],onOpenChange:a},r.a.createElement(P,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"mail"}),r.a.createElement("span",null,"Construcciones"))}),r.a.createElement(P,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"mail"}),r.a.createElement("span",null,"Rubros"))}),r.a.createElement(P,{key:"sub3",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"mail"}),r.a.createElement("span",null,"Actividades"))}),r.a.createElement(P,{key:"sub4",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"mail"}),r.a.createElement("span",null,"Proveedores"))}))},q=(t(303),z.b.SubMenu),K=function(e){var a=e.logOut,t=e.user,n=e.collapsed,l=e.toggle;e.firstName;return r.a.createElement("div",{className:"nav"},r.a.createElement("span",null,r.a.createElement(h.a,{className:"trigger",type:n?"menu-unfold":"menu-fold",onClick:l})),r.a.createElement("span",null,r.a.createElement(z.b,{mode:"horizontal"},r.a.createElement(q,{key:"sub1",title:r.a.createElement("span",null,"Hola, ",t.firstName)},r.a.createElement(z.b.Item,null,r.a.createElement("span",null,r.a.createElement(h.a,{type:"user"}),r.a.createElement(f.b,{to:"/home/profile"},r.a.createElement("span",null,"Perfil")))),r.a.createElement(z.b.Item,null,r.a.createElement("span",{onClick:a},r.a.createElement(h.a,{type:"logout"}),r.a.createElement("span",null,"Cerrar Sesi\xf3n")))))))},H=A.a.Header,D=A.a.Sider,F=A.a.Content,L=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).rootSubmenuKeys=["sub1","sub2","sub3","sub4","sub5"],t.state={collapsed:!1,user:{},constructions:[]},t.toggle=function(){t.setState({collapsed:!t.state.collapsed})},t.logOut=function(){localStorage.clear(),I.a.info("Hasta luego"),t.props.history.push("/")},t.onOpenChange=function(e){t.setState({openKeys:e})},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.constructions;return r.a.createElement(A.a,{className:"leftside"},r.a.createElement(D,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"},this.state.collapsed?"ADMIN":"RANCHOADMIN"),r.a.createElement(T,{onOpenChange:this.onOpenChange,openKeys:this.state.openKeys,constructions:e})),r.a.createElement(A.a,null,r.a.createElement(H,{style:{background:"#fff",padding:0}},r.a.createElement(K,{user:this.state.user,logOut:this.logOut,collapsed:this.state.collapsed,toggle:this.toggle})),r.a.createElement(F,{style:{margin:"1%",padding:"1%",background:"#f0f2f5",minHeight:"90vh"}})))}}]),a}(n.Component),M=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:R}),r.a.createElement(s.a,{path:"/register",component:R}),r.a.createElement(s.a,{path:"/home",component:L}))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(304);o.a.render(r.a.createElement(function(){return r.a.createElement(f.a,null,r.a.createElement(B,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[154,1,2]]]);
//# sourceMappingURL=main.34d11166.chunk.js.map